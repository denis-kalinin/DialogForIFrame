<html>
  <head>
    <title>REDIRECTED</title>
    <script>
var onPageLoad = function(){
        console.log("Redirected! window.opener: %s, window.name:", window.opener, window.name);
        window.close();
};
(function(w, loadHandler){
  if(!loadHandler) throw new Error("\"loadHandler\" is null or undefined. If \"loadHandler\" is a function expression put it somewhere above.");
  if (!loadHandler instanceof Function) throw new Error('loadHandler is not a function.');
  var funcName = loadHandler.name;
  if(!funcName){
      var result = /^function\s+([\w\$]+)\s*\(/.exec( loadHandler.toString() );
      if(!result) throw new Error("Function expression in IE! DECLARE loadHandler: \"function onPageLoad(){...}\", DON'T express like \"var onPageLoad=function(){...}\"");
      funcName = result[1];
  }
  function _isDialog(){
    var dialogTag = 'DIALOG', el = w.frameElement || {};
    while( (el=el.parentElement) && el.tagName.toUpperCase()!==dialogTag);
    return !!el;
  }
  if(!w.opener && _isDialog()){
      w[funcName] = function(){
          w.addEventListener('message', function(){
              loadHandler.apply(w);
          }, false);
          w.top.postMessage({dialog:{update:true}}, '*');
      }
  } else {
      loadHandler.apply(w);
  }
})(window.self, window.onPageLoad);
    </script>
  </head>
  <body onload="onPageLoad()">
    Hi, I am redirected!
  </body>
</html>